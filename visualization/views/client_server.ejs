<%- include("partials/header", {activity: 'Client / Server'}); %>

<%- include("partials/input_non_workflow"); %>

<%- include("partials/simulation_parameters_form_start"); %>

<div class="form-group">
    <label for="server_1_link">Link Speed to Server_1 (MBps)<br/></label>
    <input class="form-control" type="number" id="server-1-link" placeholder="10" value="10" min="1" max="10000" step="1" required>
    <div class="invalid-feedback">
        Please provide the link speed from the Client to Server_1 in MBps.
    </div>
</div>

<div class="form-group">
    <label for="buffer_size">Client Buffer Size (Bytes)<br/></label>
    <input class="form-control" type="number" id="buffer-size" placeholder="1000000" value="1000000" min="1" max="1000000000" step="1" required>
    <div class="invalid-feedback">
        Please provide the Buffer Size in Bytes.
    </div>
</div>

<div class="form-group">
    <div class="col-md-9">
        <input type="radio" name="host-select" id="host-select" value="1" checked>
        <label class="radio-inline control-label" for="host_select">
            Server_1
        </label>
        <input type="radio" name="host-select" id="host-select" value="0">
        <label class="radio-inline control-label" for="host_select">
            Server_2
        </label>
    </div>
</div>
<div class="form-group">
    <div class="form-check">
        <label class="form-check-label">
            <input class="form-check-input" name="disk-toggle" type="checkbox" id="disk-toggle" value="1">
            Toggle Disk Usage (Checked = Using Disk)
        </label>
    </div>
</div>



<%- include("partials/simulation_parameters_form_end"); %>

<%- include("partials/simulation_output"); %>


<script src="scripts/client_server.js" type="text/javascript"></script>

<script>
    let svg = d3.select("#cyberinfrastructure");
    let height = svg.attr("height");

    let inner = svg.select("g");

    // Set up zoom support
    let zoom = d3.zoom().on("zoom", function() {
        inner.attr("transform", d3.event.transform);
    });
    svg.call(zoom);

    // Center the graph
    let initialScale = 1.5;
    svg.call(zoom.transform,
        d3.zoomIdentity.translate(20, 10).scale(initialScale));

    svg.attr('height', height);
</script>

<%- include("partials/footer"); %>
